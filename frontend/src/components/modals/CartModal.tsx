import React from 'react'
import { useAppDispatch, useAppSelector } from '../../store/hooks';
import { Input } from '@mui/material';
import { RootState } from '../../store';
import TEST_IDS from '../../utils/test/test-ids';

interface CartModalProps { }

const CartModal: React.FC<CartModalProps> = () => {
	const { items } = useAppSelector((state: RootState) => state.cart)

	if (items && Object.keys(items).length > 0) {
		return (
			<div data-testid={TEST_IDS.MODALS.CART} className="bg-white rounded-lg shadow dark:bg-gray-700">
				{Object.keys(items).map((itemId) => {
					const item = items[itemId]
					return (
						<div
							key={itemId}
							className="transition duration-500 shadow ease-in-out transform hover:-translate-y-1 hover:shadow-lg select-none cursor-pointer bg-white rounded-md flex gap-x-2 flex-1 items-center p-4"
						>
							<p>{item.title}</p>

							<div>
								<span>In cart: </span>
								<Input type='number' readOnly value={item.countInCart} className='w-8' />
							</div>
						</div>
					)
				})}
			</div>
		)
	}

	return (
		null
	)
}

export default CartModal