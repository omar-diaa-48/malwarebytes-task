import { useEffect, useState } from "react";
import { useSearchParams } from "react-router-dom";
import api from "../utils/api";
import { ACCESS_TOKEN_LOCAL_STORAGE_KEY } from "../utils/constants";

export default function useAddTokenHook() {
	const [isTokenAdded, setIsTokenAdded] = useState<boolean>(false)

	useEffect(() => {
		const jwt_token = localStorage.getItem(ACCESS_TOKEN_LOCAL_STORAGE_KEY);

		api.defaults.headers.common["authorization"] = "Bearer " + jwt_token;

		setIsTokenAdded(true)
	}, [])

	return [isTokenAdded]
}