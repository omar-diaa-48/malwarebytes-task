import { Modal } from '@mui/material';
import React from 'react';
import { RootState } from '../../store';
import { useAppDispatch, useAppSelector } from '../../store/hooks';
import { closeModalAction } from '../../store/slices/app';
import CartModal from '../modals/CartModal';
import ProductModal from '../modals/ProductModal';

interface ModalRendererProps { }

const ModalRenderer: React.FC<ModalRendererProps> = () => {
	const dispatch = useAppDispatch();
	const { modal } = useAppSelector((state: RootState) => state.app)

	const renderModal = () => {
		switch (modal.current) {
			case "product-modal":
				return (
					<ProductModal {...modal.args} />
				)
			case "cart-modal":
				return (
					<CartModal {...modal.args} />
				)
			default:
				return null
		}

	}

	return (
		<Modal
			open={modal.isOpened}
			onClose={() => dispatch(closeModalAction())}
		>
			<div className="flex justify-center items-center w-full xl:w-1/2 mx-auto bg-transparent rounded-[20px] outline-none">
				<div className="max-w-full my-10 mx-4 scroll-with-no-display">
					{renderModal()}
				</div>
			</div>
		</Modal>
	)
}

export default ModalRenderer