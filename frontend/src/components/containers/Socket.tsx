import React, { useEffect } from 'react';
import io from 'socket.io-client';
import { useAppDispatch } from '../../store/hooks';

interface SocketProps { }

// Component to handle live stream from the backend
const Socket: React.FC<SocketProps> = () => {
	const dispatch = useAppDispatch();

	useEffect(() => {
		// Intialize the socket connection
		const socketConnection = io(`${import.meta.env.VITE_BACKEND_SOCKET}`, {
			transports: ['websocket']
		})

		// Close socket connection on cleanup
		return () => {
			socketConnection.close();
		}
	}, [])

	return <div id='socket-container' />
}

export default Socket