import { useDispatch, useSelector } from "react-redux";
import { Link, useNavigate } from "react-router-dom";
import LogoSvg from "../../assets/logo.png";
import { RootState } from "../../store";
import { signoutAction } from "../../store/slices/user";

const Navbar = () => {
	const navigate = useNavigate();
	const dispatch = useDispatch();
	const user = useSelector((state: RootState) => state.user);

	return (
		<nav className="relative px-4 py-4 flex justify-between items-center bg-white">
			<Link className="text-3xl font-bold leading-none bg-white" to="/">
				<img src={LogoSvg} alt="malwarebytes logo" width={100} height={100} />
			</Link>

			{
				user.isAuthenticated && (
					<p onClick={() => dispatch(signoutAction())}
						className="cursor-pointer lg:inline-block lg:ml-auto lg:mr-3 py-2 px-6 bg-gray-50 hover:bg-gray-100 text-sm text-gray-900 font-bold  rounded-xl transition duration-200">
						Hi, {user.profile.username}, do you want to Sign out?
					</p>
				)
			}
		</nav>
	)
}

export default Navbar